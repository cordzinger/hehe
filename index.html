<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Got you a little something</title>
  <style>
    :root{
      --bg1:#0f1020;
      --bg2:#1a0f2b;
      --card:#ffffff10;
      --card2:#ffffff18;
      --text:#f7f3ff;
      --muted:#d8cff6;
      --yes:#22c55e;
      --no:#ef4444;
      --accent:#ff4d8d;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--text);
      background: radial-gradient(1200px 600px at 20% 20%, #ff4d8d25, transparent 60%),
                  radial-gradient(900px 500px at 80% 30%, #a855f725, transparent 55%),
                  linear-gradient(135deg, var(--bg1), var(--bg2));
      min-height:100svh;
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
    }

    /* floating hearts */
    .hearts{
      position:fixed; inset:0;
      pointer-events:none;
      opacity:.9;
      filter: drop-shadow(0 12px 22px rgba(0,0,0,.25));
    }
    .heart{
      position:absolute;
      width:18px; height:18px;
      transform: rotate(45deg);
      background: var(--accent);
      border-radius: 4px;
      animation: floatUp linear infinite;
    }
    .heart:before, .heart:after{
      content:"";
      position:absolute;
      width:18px; height:18px;
      background: var(--accent);
      border-radius: 50%;
    }
    .heart:before{ left:-9px; top:0; }
    .heart:after{ left:0; top:-9px; }
    @keyframes floatUp{
      from{ transform: translateY(20px) rotate(45deg); opacity:0; }
      10%{opacity:1}
      to{ transform: translateY(-110svh) rotate(45deg); opacity:0; }
    }

    .shell{ width:min(920px, 92vw); padding:24px; }

    .stage{
      border:1px solid #ffffff24;
      background: linear-gradient(180deg, var(--card), var(--card2));
      border-radius: 26px;
      padding: 26px;
      box-shadow: 0 20px 60px rgba(0,0,0,.35);
      position:relative;
      overflow:hidden;
    }

    .grid{
      display:grid;
      grid-template-columns: 1.15fr .85fr;
      gap:20px;
      align-items:center;
      margin-top:6px;
    }
    @media (max-width: 760px){
      .grid{grid-template-columns:1fr}
    }

    h1{
      margin: 8px 0 10px;
      font-size: clamp(28px, 4vw, 44px);
      line-height:1.08;
    }
    p{
      margin:0;
      color: var(--muted);
      font-size: 16px;
      line-height:1.55;
      white-space: pre-line;
    }

    .btnRow{
      display:flex;
      gap:12px;
      flex-wrap:wrap;
      margin-top:16px;
    }
    button{
      border:0;
      border-radius: 999px;
      padding: 12px 16px;
      font-weight:800;
      cursor:pointer;
      transition: transform .08s ease, filter .15s ease;
      user-select:none;
    }
    button:active{ transform: translateY(1px) scale(.99); }
    .primary{
      background: linear-gradient(180deg, #ff79ad, #ff4d8d);
      color:#13081a;
    }
    .secondary{
      background:#ffffff12;
      border:1px solid #ffffff24;
      color: var(--text);
    }
    .yes{
      background: linear-gradient(180deg, #5cff9a, var(--yes));
      color:#06210f;
      padding: 12px 18px;
    }
    .no{
      background: linear-gradient(180deg, #ff8a8a, var(--no));
      color:#2a0606;
      padding: 12px 18px;
      position:relative;
    }

    .cardFace{
      border:1px solid #ffffff24;
      background:#0b0b1620;
      border-radius:22px;
      padding:22px;
      min-height: 220px;
      position:relative;
      display:flex;
      flex-direction:column;
      justify-content:center;
      gap:10px;
    }
    .bigHeart{
      width:80px;height:80px;
      margin-bottom:8px;
      transform: rotate(45deg);
      background: var(--accent);
      border-radius: 14px;
      position:relative;
      box-shadow: 0 18px 40px #ff4d8d35;
      align-self:flex-start;
    }
    .bigHeart:before, .bigHeart:after{
      content:"";
      position:absolute;
      width:80px;height:80px;
      background: var(--accent);
      border-radius:50%;
    }
    .bigHeart:before{ left:-40px; top:0; }
    .bigHeart:after{ left:0; top:-40px; }

    .panel{
      margin-top:14px;
      border:1px solid #ffffff24;
      background:#ffffff0a;
      border-radius:22px;
      padding:18px;
      display:none;
    }
    .panel.active{ display:block; }

    .panelTitle{
      font-size: clamp(20px, 3vw, 32px);
      font-weight:900;
      margin:0 0 10px;
      line-height:1.15;
    }

    .actions{
      margin-top:14px;
      display:flex;
      gap:12px;
      flex-wrap:wrap;
      align-items:center;
      position:relative;
      min-height: 52px;
    }

    .hint{
      font-size: 14px;
      color: #e9e2ffcc;
    }

    .result{
      margin-top:14px;
      display:none;
      border:1px solid #ffffff24;
      background:#0b0b1620;
      border-radius:18px;
      padding:14px 16px;
      color: var(--text);
    }
    .result.show{ display:block; }

    /* confetti hearts on YES */
    .burst{
      position:fixed;
      inset:0;
      pointer-events:none;
      overflow:hidden;
      display:none;
    }
    .burst.show{display:block;}
    .mini{
      position:absolute;
      width:14px;height:14px;
      transform: rotate(45deg);
      background: var(--accent);
      border-radius: 3px;
      animation: pop 900ms ease-out forwards;
    }
    .mini:before, .mini:after{
      content:"";
      position:absolute;
      width:14px;height:14px;
      background: var(--accent);
      border-radius:50%;
    }
    .mini:before{ left:-7px; top:0; }
    .mini:after{ left:0; top:-7px; }
    @keyframes pop{
      0%{ transform: translate(0,0) rotate(45deg) scale(.8); opacity:0; }
      10%{opacity:1}
      100%{ transform: translate(var(--dx), var(--dy)) rotate(45deg) scale(1.2); opacity:0; }
    }
  </style>
</head>

<body>
  <div class="hearts" id="hearts"></div>
  <div class="burst" id="burst"></div>

  <main class="shell">
    <section class="stage" aria-live="polite">
      <div class="grid">
        <div>
          <h1 id="headline">Got you a little something</h1>
          <p id="subtext">Click open when you‚Äôre ready ü§≠</p>

          <div class="btnRow">
            <button class="primary" id="openBtn">Open</button>
            <button class="secondary" id="resetBtn">Reset</button>
          </div>

          <!-- 1) Letter panel -->
          <div class="panel" id="panelLetter">
            <div class="panelTitle">Before anything‚Ä¶</div>
            <p id="letterText">
From the moment we first talked, you weren‚Äôt like other women, mahal. You really caught my attention.
I wanted to get to know you more‚Ä¶ like for real. I wanted us to be best friends first before we became lovers.
You‚Äôre the only person who makes me feel like I can do anything. Pag ikaw kasama ko, ang lakas ko.
You saw through the toughest parts of this steel heart‚Äîyung parts na nobody ever got through‚Ä¶ but you did.
You‚Äôre different, in a good way. You inspire me in everything I do.
You push me to be better when I feel like I‚Äôm not doing enough.
Even when I tried to push you away, you still gave me a reason to fight for us and to keep showing up.
I love you, mahal ko, from the bottom of my heart.
            </p>

            <div class="btnRow">
              <button class="primary" id="toValentineBtn">Continue</button>
            </div>
          </div>

          <!-- 2) Valentine panel -->
          <div class="panel" id="panelValentine">
            <div class="panelTitle">Will you be my Valentine? üíò</div>

            <div class="hint" id="valHint" style="margin-top:6px;">Pick one üôÇ</div>
            <div class="actions" id="valActions">
              <button class="yes" id="valYesBtn">YES üíñ</button>
              <button class="no" id="valNoBtn">no üò∂</button>
            </div>
          </div>

          <!-- 3) Boyfriend panel -->
          <div class="panel" id="panelBoyfriend">
            <div class="panelTitle">Ofc I didn‚Äôt forget‚Ä¶ üòå</div>
            <div class="hint" style="margin-top:6px;">One more question.</div>

            <div class="panelTitle" style="margin-top:12px; font-size:clamp(18px,2.6vw,26px);">
              Will you be my boyfriend, my only and forever?
            </div>

            <div class="actions">
              <button class="yes" id="bfYesBtn1">YES üíö</button>
              <button class="yes" id="bfYesBtn2">YES üíö</button>
            </div>

            <div class="result" id="finalResult"></div>
          </div>
        </div>

        <!-- Right card -->
        <div class="cardFace" id="card">
          <div class="bigHeart" aria-hidden="true"></div>
          <div style="font-weight:900; font-size:18px;">To: <span>Anne</span></div>
          <div style="color: var(--muted); font-weight:700;">From: <span>Adriane</span></div>
          <div style="margin-top:10px; color:#ffffffd0;">
            Click ‚ÄúOpen‚Äù üòå
          </div>
        </div>
      </div>
    </section>
  </main>

<script>
  // Floating background hearts
  const heartsWrap = document.getElementById("hearts");
  const burstWrap = document.getElementById("burst");

  function makeBgHearts(count = 18){
    heartsWrap.innerHTML = "";
    for(let i=0;i<count;i++){
      const h = document.createElement("div");
      h.className = "heart";
      const left = Math.random()*100;
      const delay = Math.random()*6;
      const dur = 6 + Math.random()*8;
      const size = 10 + Math.random()*14;
      h.style.left = left + "vw";
      h.style.bottom = (-10 - Math.random()*30) + "px";
      h.style.animationDuration = dur + "s";
      h.style.animationDelay = delay + "s";
      h.style.width = size + "px";
      h.style.height = size + "px";
      h.style.opacity = 0.5 + Math.random()*0.5;
      h.style.transform = `rotate(45deg) scale(${size/18})`;
      heartsWrap.appendChild(h);
    }
  }
  makeBgHearts();

  // Panels
  const panelLetter = document.getElementById("panelLetter");
  const panelValentine = document.getElementById("panelValentine");
  const panelBoyfriend = document.getElementById("panelBoyfriend");
  const finalResult = document.getElementById("finalResult");

  // Buttons
  const openBtn = document.getElementById("openBtn");
  const resetBtn = document.getElementById("resetBtn");
  const toValentineBtn = document.getElementById("toValentineBtn");

  const valYesBtn = document.getElementById("valYesBtn");
  const valNoBtn  = document.getElementById("valNoBtn");
  const valActions = document.getElementById("valActions");
  const valHint = document.getElementById("valHint");

  const bfYesBtn1 = document.getElementById("bfYesBtn1");
  const bfYesBtn2 = document.getElementById("bfYesBtn2");

  function showOnly(which){
    [panelLetter, panelValentine, panelBoyfriend].forEach(p => p.classList.remove("active"));
    which.classList.add("active");
  }

  function resetAll(){
    finalResult.classList.remove("show");
    finalResult.innerHTML = "";
    valHint.textContent = "Pick one üôÇ";
    valNoBtn.style.position = "relative";
    valNoBtn.style.left = "0px";
    valNoBtn.style.top = "0px";
    showOnly(panelLetter);
  }

  // Start with no panel shown until open
  panelLetter.classList.remove("active");
  panelValentine.classList.remove("active");
  panelBoyfriend.classList.remove("active");

  function openFlow(){
    showOnly(panelLetter);
  }
  openBtn.addEventListener("click", openFlow);
  document.getElementById("card").addEventListener("click", openFlow);

  resetBtn.addEventListener("click", () => {
    panelLetter.classList.remove("active");
    panelValentine.classList.remove("active");
    panelBoyfriend.classList.remove("active");
    resetAll();
  });

  toValentineBtn.addEventListener("click", () => showOnly(panelValentine));

  // Dodge the "no" on Valentine
  let noDodges = 0;
  function dodgeNo(){
    noDodges++;
    valActions.style.position = "relative";

    const rect = valActions.getBoundingClientRect();
    const btnRect = valNoBtn.getBoundingClientRect();

    valNoBtn.style.position = "absolute";
    const maxX = rect.width - btnRect.width;
    const maxY = rect.height - btnRect.height;
    const yRoom = Math.max(maxY, 28);

    const x = Math.random() * Math.max(maxX, 10);
    const y = (Math.random() * yRoom) - (yRoom/2);

    valNoBtn.style.left = x + "px";
    valNoBtn.style.top  = y + "px";

    if(noDodges === 1) valHint.textContent = "Try again üòå";
    else if(noDodges === 3) valHint.textContent = "Di ka papayagan üò≠";
    else if(noDodges === 6) valHint.textContent = "YES na kasi üôÇ";
  }
  valNoBtn.addEventListener("mouseenter", dodgeNo);
  valNoBtn.addEventListener("click", dodgeNo);

  // Heart burst
  function heartBurst(){
    burstWrap.innerHTML = "";
    burstWrap.classList.add("show");

    const cx = window.innerWidth * 0.5;
    const cy = window.innerHeight * 0.4;

    const pieces = 26;
    for(let i=0;i<pieces;i++){
      const m = document.createElement("div");
      m.className = "mini";
      m.style.left = cx + "px";
      m.style.top  = cy + "px";

      const angle = (Math.PI * 2) * (i / pieces);
      const dist = 120 + Math.random()*220;
      const dx = Math.cos(angle) * dist + (Math.random()*40 - 20);
      const dy = Math.sin(angle) * dist + (Math.random()*40 - 20);

      m.style.setProperty("--dx", dx + "px");
      m.style.setProperty("--dy", dy + "px");
      burstWrap.appendChild(m);
    }
    setTimeout(()=> burstWrap.classList.remove("show"), 950);
  }

  // Valentine YES -> go to boyfriend panel
  valYesBtn.addEventListener("click", () => {
    heartBurst();
    showOnly(panelBoyfriend);
    finalResult.classList.remove("show");
    finalResult.innerHTML = "";
  });

  // Boyfriend YES (either button) -> final note
  function showFinal(){
    heartBurst();
    finalResult.classList.add("show");
    finalResult.innerHTML = `
      <div style="font-weight:950; font-size:18px; margin-bottom:6px;">YAYYY ü•πüíò</div>
      <div style="color:#e9e2ffcc; line-height:1.55; margin-bottom:10px;">
        You just made my whole day.
      </div>
      <div style="border-top:1px solid #ffffff24; padding-top:10px; color:#ffffffd8; line-height:1.6;">
        <div style="font-weight:900; margin-bottom:6px;">Little note:</div>
        I‚Äôm sorry for everything we‚Äôve been through these past few weeks.
        I want to do better‚Äîtruly better‚Äîand never be the reason your heart hurts.
        I just want to see you happy, because your happiness is what makes me happy too.
        I love you with all my heart.
      </div>
    `;
  }
  bfYesBtn1.addEventListener("click", showFinal);
  bfYesBtn2.addEventListener("click", showFinal);
</script>
</body>
</html>
